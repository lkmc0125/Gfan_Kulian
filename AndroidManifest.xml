<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.xiaohong.kulian" android:versionCode="1"
    android:versionName="0.7.0">

    <application android:label="@string/app_name"
        android:icon="@drawable/app_icon" 
        android:theme="@android:style/Theme.Light.NoTitleBar" >

        <!-- Splash页 -->
        <activity android:name=".ui.SplashActivity"
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>

        <!-- 首页 -->
        <activity android:name=".ui.HomeTabActivity" 
            android:screenOrientation="portrait" 
            android:windowSoftInputMode="stateUnchanged"/>
        <activity android:name=".ui.HomeActivity" 
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation"/>
        <activity android:name=".ui.ConnectionActivity" 
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation"/>
        <activity android:name=".ui.HumorActivity" 
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation"/>
        
        <!-- 排行页 -->
        <activity android:name=".ui.RankTabActivity"
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation"/>
        <activity android:name=".ui.ProductListActivity"
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation"/>
            
        <!-- 应用管理页 -->
        <activity android:name=".ui.AppsManagerActivity" 
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation"/>
        <activity android:name=".ui.FileManagerActivity"
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation" />

        <!-- 产品详细页 -->
        <activity android:name=".ui.ProductDetailActivity"
            android:configChanges="keyboardHidden|orientation" />
        <activity android:name=".ui.PreloadActivity"
            android:configChanges="keyboardHidden|orientation" >
            <intent-filter>
                <action android:name="android.intent.action.VIEW" />
                <category android:name="android.intent.category.DEFAULT" />
                <data android:scheme="kulian" />
            </intent-filter>
        </activity>
        <activity android:name=".ui.ProductInfoActivity"
            android:configChanges="keyboardHidden|orientation" />
        <activity android:name=".ui.ProductCommentActivity"
            android:configChanges="keyboardHidden|orientation" />
        <activity android:name=".ui.ScreenshotActivity"
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation" 
            android:theme="@android:style/Theme.Light.NoTitleBar.Fullscreen" />

        <!--Menu 相关页面 -->
        <activity android:name=".ui.ClientPreferenceActivity"
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation"
            android:theme="@android:style/Theme.Light" />
        <activity android:name=".ui.FeedBackActivity"
            android:windowSoftInputMode="stateVisible|adjustResize"
            android:configChanges="keyboardHidden|orientation" />
            
        <!-- 个人中心页 -->
        <activity android:name=".ui.PersonalAccountActivity"
            android:screenOrientation="portrait" 
            android:configChanges="keyboardHidden|orientation" />
        <activity android:name=".ui.ChargeTypeListActivity"
            android:screenOrientation="portrait" 
            android:configChanges="orientation|keyboardHidden"
            android:launchMode="singleTop" />
        <activity android:name=".ui.PayMainActivity"
            android:configChanges="keyboardHidden|orientation" />
        
        <!-- 注册页 -->
        <activity android:name=".ui.RegisterActivity" 
            android:configChanges="keyboardHidden|orientation"
            android:windowSoftInputMode="adjustResize"/>
            
        <!-- 登录页 -->
        <activity android:name=".ui.LoginActivity" 
            android:configChanges="keyboardHidden|orientation"
            android:windowSoftInputMode="adjustResize"/>
            
        <!-- Content Provider -->
        <provider android:name=".common.util.MarketProvider"
            android:authorities="kulian" />

        <!-- Download Service -->
        <provider android:name=".common.download.DownloadProvider"
            android:authorities="kulian_downloads" />
        <service android:name=".common.download.DownloadService" />
        <receiver android:name=".common.download.DownloadReceiver"
            android:exported="false">
            <intent-filter>
                <action android:name="android.intent.action.BOOT_COMPLETED" />
                <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
            </intent-filter>
        </receiver>
        
        <!-- Splash Receiver -->
        <receiver android:name=".common.util.CheckSplashUpdateReceiver">
            <intent-filter>
                <action android:name="com.xiaohong.market.broadcast.splash.CHECK_UPGRADE" />
            </intent-filter>
        </receiver>
        
        <meta-data android:name="kulian_cpid" android:value="WIFI酷连" />
        <!-- content ID -->
        <meta-data android:name="kulian_cid" android:value="9" />
        <!-- upgrade uses -->
        <meta-data android:name="kulian_debug" android:value="1" />
    </application>

    <!-- Only this application can receive the messages and registration result -->
    <permission android:name="com.xiaohong.kulian.permission.C2D_MESSAGE"
        android:protectionLevel="signature" />
    <!-- Permission Group -->
    <uses-permission android:name="android.permission.CHANGE_NETWORK_STATE" />
    <uses-permission android:name="android.permission.GET_TASKS" />
    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
    <uses-permission android:name="android.permission.CHANGE_WIFI_STATE" />
    <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.WAKE_LOCK" />
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.RECORD_AUDIO" />
    <uses-permission android:name="android.permission.DOWNLOAD_WITHOUT_NOTIFICATION" />
    <uses-permission android:name="android.permission.VIBRATE" />
    <uses-permission android:name="android.permission.GET_TASKS" />
    <uses-permission android:name="android.permission.RESTART_PACKAGES" />
    <uses-permission android:name="getui.permission.GetuiService.com.xiaohong.kulian" />
    <uses-permission android:name="android.permission.BLUETOOTH" />
    <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
    <uses-permission android:name="android.permission.SEND_SMS" />
    <uses-permission android:name="android.permission.RECEIVE_SMS" /> 
    <uses-permission android:name="android.permission.READ_SMS" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
    <uses-permission android:name="android.permission.ACCESS_COARSE_UPDATES"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <permission
        android:name="getui.permission.GetuiService.com.xiaohong.kulian"
        android:protectionLevel="normal" >
    </permission>

    <uses-permission android:name="android.permission.BROADCAST_STICKY" />
    <uses-permission android:name="com.xiaohong.kulian.permission.C2D_MESSAGE" />

    <supports-screens android:anyDensity="true" />
    <uses-sdk android:minSdkVersion="4" android:targetSdkVersion="9" />
</manifest> 